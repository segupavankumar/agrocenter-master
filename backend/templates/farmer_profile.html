<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Agrocenter</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/metisMenu/2.5.2/metisMenu.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/startbootstrap-sb-admin-2/3.3.7/css/sb-admin-2.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.css">
    <link rel="stylesheet" href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/416491/timeline.css">

    
    <script src="https://code.jquery.com/jquery-3.1.0.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/metisMenu/2.5.2/metisMenu.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.1/raphael.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/startbootstrap-sb-admin-2/3.3.7/js/sb-admin-2.js"></script>
    <script href="https://cdn.knightlab.com/libs/timeline3/latest/js/timeline.js"></script>


  </head>
  <body>
    <div id="wrapper">
      <!-- Navigation -->
      <nav
        class="navbar navbar-default navbar-static-top"
        role="navigation"
        style="margin-bottom: 0"
      >
        <div class="navbar-header">
          <button
            type="button"
            class="navbar-toggle"
            data-toggle="collapse"
            data-target=".navbar-collapse"
          >
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">Agrocenter</a>
        </div>
        <!-- /.navbar-header -->

        <ul class="nav navbar-top-links navbar-right">
          <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
              <i class="fa fa-user fa-fw"></i> <i class="fa fa-caret-down"></i>
            </a>
            <ul class="dropdown-menu dropdown-user">
              <li>
                <a href="/farmer/profile"
                  ><i class="fa fa-user fa-fw"></i> User Profile</a
                >
              </li>
              <li>
                <a href="/farmer/settings"><i class="fa fa-gear fa-fw"></i> Settings</a>
              </li>
              <li class="divider"></li>
              <li>
                <a href="/user/logout"
                  ><i class="fa fa-sign-out fa-fw"></i> Logout</a
                >
              </li>
            </ul>
            <!-- /.dropdown-user -->
          </li>
          <!-- /.dropdown -->
        </ul>
        <!-- /.navbar-top-links -->

        <div class="navbar-default sidebar" role="navigation">
          <div class="sidebar-nav navbar-collapse">
            <ul class="nav" id="side-menu">
              <li>
                <a href="javascript:window.location=URL();"
                  ><i class="fa fa-dashboard fa-fw"></i> Dashboard</a
                >
              </li>
              <li>
                {%if user.is_farmer%}
                <a href="/farmer/all_products"
                  ><i class="fa fa-bar-chart fa-fw"></i> All Products</a
                >
                {%endif%}
                <!-- /.nav-second-level -->
              </li>
              <li>
                <a href="/farmer/order"
                  ><i class="fa fa-table fa-fw"></i> Orders</a
                >
              </li>
              {%if user.is_farmer%}
              <li>
                
                <a href="add_details"
                  ><i class="fa fa-edit fa-fw"></i> Add a Product</a
                >
                
              </li>
              <li>
                <a href="/farmer/revenue"><i class="fa fa-money fa-fw"></i> Revenue</a>
              </li>
              {%endif%}
            </ul>
          </div>
          <!-- /.sidebar-collapse -->
        </div>
        <!-- /.navbar-static-side -->
      </nav>
    </div>
    <div style="position: relative; width: fit-content; left: 260px">
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->

    <div class="text-center mt-3">
      <h3>Update your Profile</h3>
    </div>
    <div class="container mt-3" style="border-style: solid; padding: 20px 20px">
      <form method="POST"  class="container-fluid form-horizontal" role="form">
        {%csrf_token%}
        <div class="form-row">
          <div class="form-name col-lg-8">
            <label>First Name</label>
            <input
              type="text"
              id="Name"
              name = 'first_name'
              value = "{{user.first_name}}"
              placeholder="Name"
              class="form-control"
            required/>
          </div>
          <div class="form-name col-lg-8">
            <label>Last_name</label>
            <input
              type="text"
              id="LName"
              name = "last_name"
              value = "{{user.last_name}}"
              placeholder="Name"
              class="form-control"
            required/>
          </div>
        </div>

        <div class="form-mobile col-lg-4 mt-3">
          <div>
            <label>Phone no</label>
            <input
              type="tel"
              id="Mobile"
              name = "number"
              value = "{{user.phone_no}}"
              placeholder="Mobile"
              class="form-control"
            required/>
          </div>
        </div>

        <div class="form-email col-lg-6 mt-3">
          <div>
            <label>Email</label>
            <input
              type="email"
              id="email"
              value = "{{user.email}}"
              placeholder="Email Address"
              class="form-control"
            readonly
            required/>
          </div>
        </div>

        <div class="form-address col-lg-10 mt-3">
          <div>
            <label>Address</label>
            {%if user.address == 'no' %}
            <input
              type="text"
              id="address"
              value = ""
              name = "address"
              class="form-control"
            />
            {%else%}
            <input
              type="text"
              id="address"
              value = ""
              name = "address"
              class="form-control"
            />
            {%endif%}
          </div>
        </div>
        {%if user.is_farmer%}
        <div class="form-passbook col-lg-3 mt-3">
          <div>
            <label>Passbook No</label>
            <input type="text" 
            name = "passbook"
            value = "{{obj.passbook_no}}" id = "pass no" class="form-control"
            required />
          </div>
        </div>

        <div class="form-account col-lg-4 mt-3">
          <div>
            <label>Account No</label>
            <input type="text" 
            name="account"
            value="{{obj.account_no}}"
 id = "acc no" class="form-control" required/>
          </div>
        </div>
        <div class="form-account col-lg-4 mt-3">
          <div>
            <label>IFCS CODE</label>
            <input type="text" 
            name="ifcs"
            value="{{obj.account_no}}"
            placeholder="Acc No" id = "ifsc" class="form-control" required/>
          </div>
        </div>
        <div class="form-account col-lg-4 mt-3">
          <div>
            <label>Account Type</label>
            <select id = 'acc type' name = 'account type'>
              <option value="current">Current</option>
              <option value = "savings">Savings</option>
            </select>
          </div>
        </div>
        {%endif%}
        <div style="position: relative; top:40px;">
          <button class="btn btn-primary col-lg-1 mt-5">
            Submit
          </button>
          
        </div>
      </form>
      <button id = 'edit' class="btn btn-success col-lg-1 mt-5">
        Edit
      </button>
    </div>
  </div>
  </body>
  <script>
    var a = document.getElementById('LName')
    var b = document.getElementById('Name')
    var c = document.getElementById('Mobile')
    var d = document.getElementById('acc no')
    var e = document.getElementById('pass no')
    var f = document.getElementById('ifsc')
    var g = document.getElementById('acc type')

    if(f.value != ''){
      f.readOnly = true;
    }
    if(g.value != ''){
      g.readOnly = true;
    }

    if(a.value !== ''){
      a.readOnly =true;
    }
    if(b.value !== ''){
      b.readOnly =true;
    } if(c.value !== ''){
      c.readOnly =true;
    } if(d.value !== ''){
      d.readOnly =true;
    }
    if(e.value !== ''){
      e.readOnly =true;
    }

    var ed = document.getElementById('edit')
    ed.onclick = function(){
      a.readOnly = false;
      b.readOnly = false;

      c.readOnly = false;

    }

  </script>
  <script>
    var user = "{{request.user}}";
    function URL() {
      //The variable to be returned
      var URL = "/farmer/f/";

      //The variables containing the respective IDs
      var user = "{{request.user}}";

      //Forming the variable to return
      URL += user;
      return URL;
    }
  </script>
</html>
